<link rel="stylesheet" href="docs.css" />

<h1>Documentation for <code>/api/user</code></h1>
<p>This section of the API encompasses all user and session functions.</p>

<h2>Prerequisite knowledge</h2>
<h3>Authorization</h3>
<p>
  Authorization is based on cookies, which are automatically sent with the request. There are two
  cookies which are used to verify the authenticity of the request:
</p>
<p>
  <code>session_token</code> - Contains a session token (generated by
  <code class="plain"><a href="#session--create">/session/create</a></code> ). Must be the token of
  the user being manipulated, <b>or</b> a token of an admin-level user.
</p>
<p><code>user_id</code> - Contains the user ID linked to the session token.</p>

<h3 id="required-fields">Required fields:</h3>
<p>
  These are the fields that each user is required to have when using
  <code class="plain"><a href="#create">/create</a></code> or
  <code class="plain"><a href="#update-whole">/update-whole</a></code> .
</p>
<p><code>title</code> - Title, such as <i>Mr.</i>, <i>Ms.</i>, etc.</p>
<p><code>firstName</code> - First name.</p>
<p><code>lastName</code> - Last name.</p>
<p>
  <code>dob</code> - Date of birth, formatted as an ISO string (or similar), such as
  <code class="subtle">2024-05-13T18:39:08.492Z</code>.
</p>
<p>
  <code>sex</code> - Legal sex, where <code class="subtle">0 = MALE</code>,
  <code class="subtle">1 = FEMALE</code>, and <code class="subtle">2 = OTHER</code>.
</p>
<p><code>email</code> - Email address.</p>
<p>
  <code>password</code> - The password for the account. This should not be sent as plaintext, but
  SHA-256 hashed. Whenever using functions like
  <code class="plain"><a href="#password--check">/password/check</a></code> or
  <code class="plain"><a href="#session--create">/session/create</a></code
  >, ensure you use the hashed version of the password also. An example of how to hash a string in
  JavaScript would be the following:
</p>

<pre><code>const crypto = require("crypto");

let plaintext = "crabcake"
let hashtext = crypto.createHash("sha-256").update(plaintext).digest("hex");
</code></pre>
<p><code>phone</code> - Phone number.</p>
<p>
  <code>isAdmin</code> - A boolean (<code class="subtle">true</code> or
  <code class="subtle">false</code>), determining if the user is an administrator or not.
</p>

<h2>User functions</h2>
<h3 id="create"><code>/create</code> - Creation of a new user</h3>
<h4>Parameters:</h4>
<p>(All values from <a href="#required-fields">required fields</a>)</p>
